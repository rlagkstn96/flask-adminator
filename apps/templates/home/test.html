{% extends "layouts/base.html" %}

{% block title %} Blank Page {% endblock title %}

<!-- Specific Page JS goes HERE  -->
{% block stylesheets %}
{% endblock stylesheets %}

{% block content %}

    <div>
        <form name="echo" id="echo">
            <label for="message">Echo This</label>
            <br>
            <input type="text" name="message" id="message">
            <br>
            <input type="submit" value="Echo">
            <button type="button" value="hello" class="btn-hello"></button>
        </form>
    </div>
    <div id="flashes">
        <h3>Flash Messages</h3>
    </div>

{% endblock content %}

{% block javascripts %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"
        integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA=="
        crossorigin="anonymous"></script>
    <script type="text/javascript" src="//code.jquery.com/jquery-1.4.2.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.5/socket.io.min.js"></script>
    <script type="text/javascript" charset="utf-8">
        let socket = io('/ws');

        socket.on('connect', function () {
            socket.emit('hello', {data: 'I\'m connected~!'});
        });

        $('.btn-hello').on('click', function() {
            socket.emit('hello', {data: $('#message').val()})
        })
    </script>
{% endblock javascripts %}
